$.charCount={id:"CharCount",version:"1.0",defaults:{limit:100,low:10,sid:"cc",hardlimit:true,overlimitclass:"error",lowcountclass:"count-low",charsremainingclass:"chars-remaining"}};(function(e){e.fn.extend({charCount:function(t){return this.each(function(){var n=e(this),r=e.extend({},e.charCount.defaults,t);charcnt=function(e){return r.limit-e};setInterval(function(){rm=r.limit-n.val().length;rm<=r.low?e("span[data-value='cc_"+r.sid+"']").addClass(r.lowcountclass):e("span[data-value='cc_"+r.sid+"']").removeClass(r.lowcountclass);if(rm<=0&&r.hardlimit){e("span[data-value='cc_"+r.sid+"']").html(0);n.val(n.val().substr(0,r.limit))}else{rm<0?n.addClass(r.overlimitclass):n.removeClass(r.overlimitclass);e("span[data-value='cc_"+r.sid+"']").html(rm)}},100);n.after("<div class='"+r.charsremainingclass+"'>Characters remaining: <span data-value='cc_"+r.sid+"'>"+r.limit+"</span></div>")})}})})(jQuery)
